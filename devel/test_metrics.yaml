---
metrics:
  - name: Activity repo groups
    series_name_or_func: multi_row_single_column
    sql: activity_repo_groups
    periods: h,d,w,m,q,y
    aggregate: 1,7,24
    skip: h7,w7,m7,q7,y7,d24,w24,m24,q24,y24
    multi_value: true
    drop: sact
  - name: Commits repo groups
    series_name_or_func: multi_row_single_column
    sql: commits_repo_groups
    periods: h,d,w,m,q,y
    aggregate: 1,7,24
    skip: h7,w7,m7,q7,y7,d24,w24,m24,q24,y24
    multi_value: true
    drop: scommits
  - name: Companies stats
    series_name_or_func: multi_row_multi_column
    sqls: [company_activity, company_activity_commits]
    periods: d,w,m,q,y
    aggregate: 1,7
    skip: w7,m7,q7,y7
    multi_value: true
    merge_series: company_activity
    drop: scompany_activity
  - name: PRs merged repository groups
    series_name_or_func: multi_row_single_column
    sql: prs_merged_groups
    periods: d,w,m,q,y
    aggregate: 1,7
    skip: w7,m7,q7,y7
    multi_value: true
    drop: sgrp_pr_merg
  - name: Issues repository group
    series_name_or_func: multi_row_single_column
    sqls: [issues_opened, issues_closed]
    periods: d,w,m,q,y
    aggregate: 1,7
    skip: w7,m7,q7,y7
    multi_value: true
    escape_value_name: true
    drop: 'siopened;siclosed'
