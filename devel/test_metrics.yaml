---
metrics:
  - name: Companies contributing in repositories
    series_name_or_func: multi_row_multi_column
    sql: num_stats_repos
    periods: d,w,m,q
    aggregate: 1,7,28
    skip: d,w7,m7,q7,w28,m28,q28
    merge_series: num_stats_repos
    drop: snum_stats_repos
  - name: Company statistics by repositories
    series_name_or_func: multi_row_multi_column
    sqls: [company_activity_repos, company_activity_commits_repos]
    periods: d,w,m,q,y
    aggregate: 1,7
    skip: w7,m7,q7,y7
    multi_value: true
    merge_series: company_activity_repos
    drop: scompany_activity_repos
  - name: Bot commands repositories
    series_name_or_func: multi_row_single_column
    sql: bot_commands_repos
    periods: d,w,m,q,y
    aggregate: 1,7
    skip: w7,m7,q7,y7
    multi_value: true
    merge_series: bot_commands_repos
    drop:  sbot_commands_repos
  - name: Overall project statistics by repository
    histogram: true
    annotations_ranges: true
    series_name_or_func: multi_row_single_column
    sql: project_stats_repo
    merge_series: pstat_repos
